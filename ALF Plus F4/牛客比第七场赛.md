# 牛客比赛第七场

这比赛，做了两个签到题，就没啥做的了（恼）

## H题
[原题地址](https://ac.nowcoder.com/acm/contest/11258/H)
## 题目描述
你有一个长为$n$的数组$a$，求有多少组$(i,j,k)$，满足$a_i*a_j=a_k$。
### 输入数据
第一行一个整数$n$，表示数组大小。

第二行$n$个数，$a_1,a_2,...,a_n$，表示数组中值的大小。

数据范围：$1 \leq n \leq 10^6 , 1 \leq a_i \leq 10^6$
### 输出数据
输出一个整数，表示求出的答案。
## 分析
首先，我们想一下最简单的方法，直接暴力搜，很显然，时间复杂度是$O(n^3)$，在数据范围是$10^6$的情况下肯定不行。

但是知道了$i,j$的情况下，$k$的范围实际上就已经确定了，由于$a_i \leq 10^6$，所以我们可以用一个数组标记一下某个数是否存在，这样就只有两层循环，复杂度降到了$O(n^2)$。虽然还是不行，但好像再努力一下就行了。

然后我们注意到了$a_i*a_j$，于是可以再次优化，数组的数据完全用上面提到的标记数组记录，$value[i]$表示数组中$i$这个数的数量。这样第一层循环最多到$10^3$的程度，第二层的复杂度也得到了优化，我们好像得到了答案！

在具体实现的时候，还要注意一些小问题：
1. $i,j,k$是可以相同的值，$i,j$互换要算两个不同组合。
2. 最后的答案在累加过程中最大会到$10^{18}$，记得开long long。
3. 得到$i \times j$时可能会比$10^6$略大，记得数组开大点或者加个判断。
4. 可以加一个最大最小值的记录作为优化。~~（虽然没什么用）~~
## 代码
```cpp
#include<iostream>
#include<cmath>
using namespace std;
int value[9999999];
long long n,a,ans,maxn,minn=1e6+5;
int main()
{
	cin>>n;
	for(int i=0;i<n;i++)
	{
		cin>>a;
		value[a]++;
		if(a>maxn)
			maxn=a;
		if(a<minn)
			minn=a;
	}
	for(int i=minn;i<=sqrt(maxn)+1;i++)
		if(value[i])
			for(int j=i;j<=maxn/i+1;j++)
				if(value[j]&&i*j<=maxn&&value[i*j])
					if(i!=j)
						ans+=2*value[i]*value[j]*value[i*j];
					else
						ans+=value[i]*value[j]*value[i*j];
	cout<<ans<<endl;
	return 0;
} 
```
## I题
[原题地址](https://ac.nowcoder.com/acm/contest/11258/I)
## 题目描述
你有两个整数$x,s$，你需要找到有多少正整数$y$，满足 $x \ or \ y = s$。
### 输入数据
一行两个正整数$x,s$。

数据范围：$1 \leq x,s \leq 2^{31}$
### 输出数据
一个整数，表示满足 $x \ or \ y = s$ 的正整数$y$的数量。
## 分析
这道题实际上是对位运算进行了考察，不过作为签到题，难度并不是很高。

我们先把$x$和$s$转成二进制数，对每一位进行比较，在某一位上：
* 如果$x$为0，则$y$的值就只能和$s$相同。
* 如果$x$为1：
	* $s$为0，则条件无法成立，符合要求$y$不存在。
	* $s$为1，则无论$y$取何值均成立，$y$的值有0和1两种情况。

于是我们得到了题目的解法：初始化$ans$=0，将$x$和$s$按位比较，根据上边的结论将$ans$乘以0，1或2，最后得到的$ans$就是答案。~~(其实1就不用乘了(σﾟ∀ﾟ)σ)~~

对了，还有一个小坑：$y$是正整数，而$x$和$s$相同时，按上述解法其中有一种$y$的情况是0，最后需要减掉。~~（我不信就我们掉坑里了）~~
## 代码
```cpp
#include<iostream>
using namespace std;
#define ll long long
int main()
{
    ll x,s,ans=1;
    cin>>x>>s;
    ll a=x,b=s;
    while(x||s)
	{
		bool p=x&1,q=s&1;
        if(p&&q)
            ans*=2;
        else if(p&&!q)
            ans*=0;
        x>>=1;
        s>>=1;       
    }
    if(a==b) --ans;
    cout<<ans<<endl;
    return 0;
}
```